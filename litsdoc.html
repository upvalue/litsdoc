<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sloppo - Source Documentation</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    /* Custom prose styling since Tailwind prose isn't available in CDN */
    .prose {
      color: #374151;
      max-width: none;
    }
    .prose h1:first-of-type, .prose h2:first-of-type, .prose h3:first-of-type, .prose h4:first-of-type, .prose h5:first-of-type, .prose h6:first-of-type {
      margin-top: 0;
    }
    .prose h1 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
      margin-top: 1.5rem;
      color: #111827;
      line-height: 1.25;
    }
    .prose h2 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      margin-top: 1.25rem;
      color: #111827;
      line-height: 1.3;
    }
    .prose h3 {
      font-size: 1.125rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      margin-top: 1rem;
      color: #111827;
      line-height: 1.35;
    }
    .prose p {
      margin-bottom: 1rem;
      line-height: 1.6;
    }
    .prose ul, .prose ol {
      margin-bottom: 1rem;
      padding-left: 1.5rem;
    }
    .prose li {
      margin-bottom: 0.25rem;
      line-height: 1.6;
    }
    .prose ul li {
      list-style-type: disc;
    }
    .prose ol li {
      list-style-type: decimal;
    }
    .prose blockquote {
      border-left: 4px solid #e5e7eb;
      padding-left: 1rem;
      margin: 1rem 0;
      font-style: italic;
      color: #6b7280;
    }
    .prose code {
      background-color: #f3f4f6;
      padding: 0.125rem 0.25rem;
      border-radius: 0.25rem;
      font-size: 0.875rem;
      font-family: ui-monospace, SFMono-Regular, "Roboto Mono", "Cascadia Code", "Source Code Pro", Menlo, Consolas, "DejaVu Sans Mono", monospace;
    }
    .prose pre {
      background-color: #1f2937;
      color: #e5e7eb;
      padding: 0.75rem;
      border-radius: 0.375rem;
      font-size: 0.875rem;
      overflow-x: auto;
      margin: 1rem 0;
    }
    .prose pre code {
      background-color: transparent;
      padding: 0;
      color: inherit;
    }
    .prose strong {
      font-weight: 600;
      color: #111827;
    }
    .prose em {
      font-style: italic;
    }
    .prose a {
      color: #2563eb;
      text-decoration: underline;
    }
    .prose a:hover {
      color: #1d4ed8;
    }
  </style>
</head>
<body class="bg-gray-50 font-sans">
  <div class="max-w-7xl mx-auto">
    <header class="py-8 px-6 bg-white shadow-sm border-b">
      <h1 class="text-3xl font-bold text-gray-900">Sloppo - Source Documentation</h1>
      <div class="text-gray-600 mt-2 prose"><p>This is the <strong>self-documenting source code</strong> for litsdoc. The tool has been run on its own source to demonstrate literate programming principles. Each section explains how the tool works, from parsing source files with tree-sitter to generating responsive HTML documentation.</p>
</div>
    </header>
    
    <main class="block lg:flex min-h-screen">
      
    
    <!-- File Header: litsdoc.ts -->
    <div class="bg-gray-100 border-b-2 border-gray-300 lg:hidden w-full">
      <div class="w-full lg:w-2/5 bg-gray-50 border-r border-gray-300">
        <div class="p-6">
          <h2 class="text-xl font-semibold text-gray-800 mb-2">
            <svg class="inline-block w-4 h-4 mr-2 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path>
            </svg>
            <a href="https://github.com/user/literate-code-ts/tree/main/litsdoc.ts" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline">litsdoc.ts</a>
          </h2>
        </div>
      </div>
      <div class="hidden lg:block w-3/5 bg-gray-100">
        <div class="p-6">
          <div class="h-full min-h-[3rem] flex items-center">
            <span class="text-gray-500 text-sm italic">Source file</span>
          </div>
        </div>
      </div>
    </div>
          <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#6A737D">#!/usr/bin/env -S deno run --allow-read --allow-write --allow-env --allow-ffi</span></span></code></pre>
            </div>
          </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h1>litsdoc</h1>
<p>A literate programming tool that transforms source code into beautiful,
readable documentation. This tool extracts comments from source files
and presents them alongside the code in an elegant HTML format.</p>
<h2>Key Features</h2>
<ul>
<li><strong>Language Agnostic</strong>: Uses tree-sitter for robust AST parsing</li>
<li><strong>Multi-file Support</strong>: Process multiple source files at once</li>
<li><strong>Responsive Design</strong>: Mobile-first with Docco-style desktop layout</li>
<li><strong>Markdown Support</strong>: Full GitHub Flavored Markdown in comments</li>
<li><strong>Syntax Highlighting</strong>: VS Code-quality highlighting with Shiki</li>
</ul>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Parser </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:tree-sitter@^0.21.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> C </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:tree-sitter-c@^0.21.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> JavaScript </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:tree-sitter-javascript@^0.21.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { codeToHtml } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:shiki@^1.0.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { marked } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:marked@^12.0.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { parseArgs } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "jsr:@std/cli/parse-args"</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Language Parser Mapping</h2>
<p>Maps file extensions to their corresponding tree-sitter parser.
Tree-sitter provides language-agnostic AST parsing, allowing us
to extract comments from any supported language without hardcoding
comment syntax.</p>
<p>Currently supports: C, C headers, JavaScript, TypeScript, and ES modules.
Python and Rust are ready to be added when their parsers are imported.
Linker scripts (.ld) use regex-based comment extraction as fallback.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> LANGUAGE_MAP</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">  '.c'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">C</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  '.h'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">C</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  '.js'</span><span style="color:#E1E4E8">: JavaScript,</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>TypeScript uses same parser for comments</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#9ECBFF">'.mjs'</span><span style="color:#E1E4E8">: JavaScript,</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Linker scripts use regex fallback</p>

              </div>
            </div>
          </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>&#39;.py&#39;: Python,</p>

              </div>
            </div>
          </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>&#39;.rs&#39;: Rust,</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">};</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Syntax Highlighting Configuration</h2>
<p>Maps file extensions to Shiki language identifiers for syntax highlighting.
Shiki uses VS Code&#39;s TextMate grammars, providing the same high-quality
syntax highlighting you see in Visual Studio Code.</p>
<p>For languages without specific Shiki support (like linker scripts),
we fall back to &#39;text&#39; for plain text display without errors.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> SHIKI_LANGUAGE_MAP</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Record</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">  'c'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'c'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'h'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'c'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'js'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'javascript'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'ts'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'typescript'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'mjs'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'javascript'</span><span style="color:#E1E4E8">,</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>No specific Shiki support for linker scripts yet</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#9ECBFF">'py'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'python'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'rs'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'rust'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'go'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'go'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'java'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'java'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'cpp'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'cpp'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'hpp'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'cpp'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>HTML Template</h2>
<p>The base template for generated documentation. Uses Tailwind CSS via CDN
for styling, with placeholders for dynamic content:</p>
<ul>
<li><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">{{TITLE}}</code>: Document title (shown in browser tab and header)</li>
<li><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">{{DESCRIPTION}}</code>: Markdown-processed description below title</li>
<li><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">{{CONTENT}}</code>: The main documentation content (comments and code)</li>
</ul>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> HTML_TEMPLATE</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> `&#x3C;!DOCTYPE html></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;html lang="en"></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;head></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;meta charset="utf-8"></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;meta name="viewport" content="width=device-width, initial-scale=1.0"></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;title>{{TITLE}}&#x3C;/title></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4">&#x3C;/script></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;style></span></span>
<span class="line"><span style="color:#9ECBFF">    /* Custom prose styling since Tailwind prose isn't available in CDN */</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose {</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #374151;</span></span>
<span class="line"><span style="color:#9ECBFF">      max-width: none;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h1:first-of-type, .prose h2:first-of-type, .prose h3:first-of-type, .prose h4:first-of-type, .prose h5:first-of-type, .prose h6:first-of-type {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 0;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h1 {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 1.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 700;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.75rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 1.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.25;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h2 {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 1.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 600;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 1.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.3;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h3 {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 1.125rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 600;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.35;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose p {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.6;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose ul, .prose ol {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding-left: 1.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose li {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.6;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose ul li {</span></span>
<span class="line"><span style="color:#9ECBFF">      list-style-type: disc;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose ol li {</span></span>
<span class="line"><span style="color:#9ECBFF">      list-style-type: decimal;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose blockquote {</span></span>
<span class="line"><span style="color:#9ECBFF">      border-left: 4px solid #e5e7eb;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding-left: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin: 1rem 0;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-style: italic;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #6b7280;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose code {</span></span>
<span class="line"><span style="color:#9ECBFF">      background-color: #f3f4f6;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding: 0.125rem 0.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      border-radius: 0.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 0.875rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-family: ui-monospace, SFMono-Regular, "Roboto Mono", "Cascadia Code", "Source Code Pro", Menlo, Consolas, "DejaVu Sans Mono", monospace;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose pre {</span></span>
<span class="line"><span style="color:#9ECBFF">      background-color: #1f2937;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #e5e7eb;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding: 0.75rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      border-radius: 0.375rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 0.875rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      overflow-x: auto;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin: 1rem 0;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose pre code {</span></span>
<span class="line"><span style="color:#9ECBFF">      background-color: transparent;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding: 0;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: inherit;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose strong {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 600;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose em {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-style: italic;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose a {</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #2563eb;</span></span>
<span class="line"><span style="color:#9ECBFF">      text-decoration: underline;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose a:hover {</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #1d4ed8;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;/style></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;/head></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;body class="bg-gray-50 font-sans"></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;div class="max-w-7xl mx-auto"></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;header class="py-8 px-6 bg-white shadow-sm border-b"></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;h1 class="text-3xl font-bold text-gray-900">{{TITLE}}&#x3C;/h1></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;div class="text-gray-600 mt-2 prose">{{DESCRIPTION}}&#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/header></span></span>
<span class="line"><span style="color:#9ECBFF">    </span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;main class="block lg:flex min-h-screen"></span></span>
<span class="line"><span style="color:#9ECBFF">      {{CONTENT}}</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/main></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;/body></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;/html>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Core Data Structures</h2>
<p><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">LiterateBlock</code> represents a single unit of documentation or code.
These blocks are extracted from source files and alternated to create
the literate programming layout where documentation and code are paired.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  type</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#F97583"> |</span><span style="color:#9ECBFF"> 'code'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  content</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  language</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  lineStart</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  lineEnd</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">ProcessedFile</code> contains all blocks from a single source file,
along with metadata for URL linking.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> ProcessedFile</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  blocks</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[];</span></span>
<span class="line"><span style="color:#FFAB70">  baseUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">CommandLineOptions</code> defines all available CLI arguments.
Supports both direct CLI usage and argfile configuration.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> CommandLineOptions</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  files</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[];</span></span>
<span class="line"><span style="color:#FFAB70">  outputHtml</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  codeUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  title</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  description</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  argfile</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  stdout</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  help</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  version</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Markdown Processing Configuration</h2>
<p>Configures the <code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">marked</code> library for processing markdown in comments.
Enables GitHub Flavored Markdown without automatic line break conversion
to prevent unwanted <br> tags in our clean prose formatting.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">marked.</span><span style="color:#B392F0">setOptions</span><span style="color:#E1E4E8">({</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>GitHub Flavored Markdown</p>

              </div>
            </div>
          </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Don&#39;t convert \n to <br> - let proper paragraph handling work</p>

              </div>
            </div>
          </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Allow HTML (we trust our source code comments)</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Custom renderer for inline code to match our styling</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> renderer</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> marked.</span><span style="color:#B392F0">Renderer</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">renderer.</span><span style="color:#B392F0">code</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">code</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">language</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>For code blocks in markdown, we&#39;ll use inline styling that matches our theme</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> escapedCode</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> code</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x26;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'&#x26;amp;'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x3C;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'&#x26;lt;'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">></span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'&#x26;gt;'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> `&#x3C;pre class="bg-gray-800 text-gray-200 p-2 rounded text-sm overflow-x-auto">&#x3C;code>${</span><span style="color:#E1E4E8">escapedCode</span><span style="color:#9ECBFF">}&#x3C;/code>&#x3C;/pre>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">renderer.</span><span style="color:#B392F0">codespan</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">text</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> `&#x3C;code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">${</span><span style="color:#E1E4E8">text</span><span style="color:#9ECBFF">}&#x3C;/code>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">marked.</span><span style="color:#B392F0">setOptions</span><span style="color:#E1E4E8">({ renderer });</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Markdown Processing</h2>
<p>Converts markdown content from comments into HTML.
Handles all standard markdown features including headers, lists,
emphasis, links, and code blocks. Falls back to simple paragraph
wrapping if markdown processing fails.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> processMarkdown</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">content</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Use marked to process the markdown content</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> html</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> marked.</span><span style="color:#B392F0">parse</span><span style="color:#E1E4E8">(content);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> html;</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">warn</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Failed to process markdown:'</span><span style="color:#E1E4E8">, error.message);</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Fallback to simple paragraph wrapping</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">return</span><span style="color:#9ECBFF"> `&#x3C;p class="mb-4">${</span><span style="color:#E1E4E8">content</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x3C;br>'</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}&#x3C;/p>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Syntax Highlighting</h2>
<p>Applies VS Code-quality syntax highlighting using Shiki with fallback strategies.
Uses GitHub Dark theme with custom transformers for consistent styling.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> SHIKI_TRANSFORMERS</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [{</span></span>
<span class="line"><span style="color:#B392F0">  pre</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">node</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    node.properties.class </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'text-sm leading-relaxed overflow-x-auto'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    node.properties.style </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'background-color: transparent; padding: 0; margin: 0;'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#B392F0">  code</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">node</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    node.properties.style </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'background-color: transparent;'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> highlightCode</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">code</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">language</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> strategies</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    () </span><span style="color:#F97583">=></span><span style="color:#B392F0"> codeToHtml</span><span style="color:#E1E4E8">(code, {</span></span>
<span class="line"><span style="color:#E1E4E8">      lang: </span><span style="color:#79B8FF">SHIKI_LANGUAGE_MAP</span><span style="color:#E1E4E8">[language] </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'text'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      theme: </span><span style="color:#9ECBFF">'github-dark'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      transformers: </span><span style="color:#79B8FF">SHIKI_TRANSFORMERS</span></span>
<span class="line"><span style="color:#E1E4E8">    }),</span></span>
<span class="line"><span style="color:#E1E4E8">    () </span><span style="color:#F97583">=></span><span style="color:#B392F0"> codeToHtml</span><span style="color:#E1E4E8">(code, {</span></span>
<span class="line"><span style="color:#E1E4E8">      lang: </span><span style="color:#9ECBFF">'text'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      theme: </span><span style="color:#9ECBFF">'github-dark'</span><span style="color:#E1E4E8">, </span></span>
<span class="line"><span style="color:#E1E4E8">      transformers: </span><span style="color:#79B8FF">SHIKI_TRANSFORMERS</span></span>
<span class="line"><span style="color:#E1E4E8">    }),</span></span>
<span class="line"><span style="color:#E1E4E8">    () </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`&#x3C;pre class="text-sm leading-relaxed overflow-x-auto">&#x3C;code>${</span></span>
<span class="line"><span style="color:#E1E4E8">      code</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x26;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x26;amp;'</span><span style="color:#9ECBFF">).</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x3C;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x26;lt;'</span><span style="color:#9ECBFF">).</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">></span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x26;gt;'</span><span style="color:#9ECBFF">)</span></span>
<span class="line"><span style="color:#9ECBFF">    }&#x3C;/code>&#x3C;/pre>`</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">  ];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">i</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">strategy</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">of</span><span style="color:#E1E4E8"> strategies.</span><span style="color:#B392F0">entries</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> strategy</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (i </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> strategies.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> -</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">warn</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Highlight strategy ${</span><span style="color:#E1E4E8">i</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> 1</span><span style="color:#9ECBFF">} failed, trying fallback:`</span><span style="color:#E1E4E8">, (error </span><span style="color:#F97583">as</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">).message);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'All highlighting strategies failed'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Argument File Parser</h2>
<p>Reads and parses arguments from a configuration file using regex.
Supports quoted strings with spaces for complex configurations.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> parseArgsFromFile</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">argfilePath</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">[]> {</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> Deno.</span><span style="color:#B392F0">readTextFile</span><span style="color:#E1E4E8">(argfilePath);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> content.</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">match</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">(?:</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s"']</span><span style="color:#F97583">+|</span><span style="color:#DBEDFF">"</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">"]</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">"</span><span style="color:#F97583">|</span><span style="color:#DBEDFF">'</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">']</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">')</span><span style="color:#F97583">+</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      ?.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">s</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">["']</span><span style="color:#F97583">|</span><span style="color:#79B8FF">["']</span><span style="color:#F97583">$</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">)) </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Error reading argfile '${</span><span style="color:#E1E4E8">argfilePath</span><span style="color:#9ECBFF">}': ${</span><span style="color:#E1E4E8">error</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">message</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Unified Command Line Argument Parser</h2>
<p>Handles both direct CLI arguments and argfile-based configuration.
When an argfile is specified, reads arguments from the file and
parses them as if they were provided on the command line.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> parseCommandLineArgs</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">CommandLineOptions</span><span style="color:#E1E4E8">> {</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>First check if --argfile is specified</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> initialArgs</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseArgs</span><span style="color:#E1E4E8">(Deno.args, {</span></span>
<span class="line"><span style="color:#E1E4E8">    string: [</span><span style="color:#9ECBFF">"argfile"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    alias: { </span><span style="color:#9ECBFF">"argfile"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"f"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> argsToProcess </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Deno.args;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>If argfile is specified, read arguments from file</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (initialArgs.argfile) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Reading arguments from: ${</span><span style="color:#E1E4E8">initialArgs</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">argfile</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    argsToProcess </span><span style="color:#F97583">=</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> parseArgsFromFile</span><span style="color:#E1E4E8">(initialArgs.argfile </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> args</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseArgs</span><span style="color:#E1E4E8">(argsToProcess, {</span></span>
<span class="line"><span style="color:#E1E4E8">    boolean: [</span><span style="color:#9ECBFF">"help"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"version"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"stdout"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    string: [</span><span style="color:#9ECBFF">"output-html"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"code-url"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"title"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"description"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"argfile"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    alias: {</span></span>
<span class="line"><span style="color:#9ECBFF">      "help"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"h"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "version"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"v"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "output-html"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"o"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "code-url"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"u"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "title"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"t"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "description"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"d"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "argfile"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"f"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "stdout"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"s"</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#E1E4E8">    default: {</span></span>
<span class="line"><span style="color:#9ECBFF">      "help"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "version"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "stdout"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (args.help) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`</span></span>
<span class="line"><span style="color:#9ECBFF">Usage: litsdoc.ts [file1] [file2] [...] [options]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Options:</span></span>
<span class="line"><span style="color:#9ECBFF">  -h, --help                    Show this help message</span></span>
<span class="line"><span style="color:#9ECBFF">  -v, --version                 Show version information</span></span>
<span class="line"><span style="color:#9ECBFF">  -o, --output-html &#x3C;file>      Output HTML file (default: first-input-file.html)</span></span>
<span class="line"><span style="color:#9ECBFF">  -s, --stdout                  Output HTML to stdout instead of file</span></span>
<span class="line"><span style="color:#9ECBFF">  -u, --code-url &#x3C;url>          Base URL for linking to source files</span></span>
<span class="line"><span style="color:#9ECBFF">  -t, --title &#x3C;title>           Custom title (markdown supported)</span></span>
<span class="line"><span style="color:#9ECBFF">  -d, --description &#x3C;desc>      Custom description (markdown supported)</span></span>
<span class="line"><span style="color:#9ECBFF">  -f, --argfile &#x3C;file>          Read arguments from file (overrides CLI args)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Examples:</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts hello.c</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts a.c b.js --output-html docs.html</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts hello.c --stdout > docs.html</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts *.c --code-url https://github.com/user/repo/tree/main/</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts --title "My Project" --description "**Documentation** for my project"</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts --argfile myproject.argfile</span></span>
<span class="line"><span style="color:#9ECBFF">    `</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (args.version) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"litsdoc v1.2.0"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (args._.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> &#x3C;</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error: At least one input file is required'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Usage: litsdoc.ts [file1] [file2] [...] [options]'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Use --help for more information'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> files</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args._.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">f</span><span style="color:#F97583"> =></span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">(f));</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> outputHtml</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"output-html"</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> files[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#85E89D;font-weight:bold">\.</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">.]</span><span style="color:#F97583">+$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'.html'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> codeUrl</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"code-url"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> title</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"title"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> description</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"description"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> stdout</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"stdout"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    files,</span></span>
<span class="line"><span style="color:#E1E4E8">    outputHtml,</span></span>
<span class="line"><span style="color:#E1E4E8">    codeUrl,</span></span>
<span class="line"><span style="color:#E1E4E8">    title,</span></span>
<span class="line"><span style="color:#E1E4E8">    description,</span></span>
<span class="line"><span style="color:#E1E4E8">    stdout,</span></span>
<span class="line"><span style="color:#E1E4E8">    help: args.help,</span></span>
<span class="line"><span style="color:#E1E4E8">    version: args.version</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Comment Content Extraction Patterns</h2>
<p>Pattern matching for different comment styles to enable language-agnostic parsing.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> COMMENT_PATTERNS</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/*'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#85E89D;font-weight:bold">\/\*\*</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#85E89D;font-weight:bold">\*\/</span><span style="color:#F97583">$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#85E89D;font-weight:bold">\*</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'//'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#85E89D;font-weight:bold">\/\/</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'#'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">#</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'&#x3C;!--'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#DBEDFF">&#x3C;!--</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">--></span><span style="color:#F97583">$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'--'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">--</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getFileExtension</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">filename</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> match</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> filename.</span><span style="color:#B392F0">match</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#85E89D;font-weight:bold">\.</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">.]</span><span style="color:#F97583">+$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> match </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> match[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Comment Content Extraction</h2>
<p>Extracts the actual content from raw comment text.
This is the key to language-agnostic comment parsing - we don&#39;t
need to know the comment syntax, just clean it up after tree-sitter
identifies it as a comment.</p>
<p>Handles:</p>
<ul>
<li>C-style block comments</li>
<li>C++/JS/TS line comments</li>
<li>Python/Shell comments</li>
<li>HTML/XML comments</li>
<li>SQL comments</li>
</ul>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> extractCommentContent</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">rawComment</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> rawComment.</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> pattern</span><span style="color:#F97583"> of</span><span style="color:#79B8FF"> COMMENT_PATTERNS</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pattern.</span><span style="color:#B392F0">test</span><span style="color:#E1E4E8">(content)) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> pattern.</span><span style="color:#B392F0">clean</span><span style="color:#E1E4E8">(content);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> content;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>File Header Generation</h2>
<p>Creates a visual header for each source file in multi-file documentation.
Includes an optional link to the source file on GitHub or other repositories.
The header uses a file icon and distinctive styling to mark file boundaries.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> generateFileHeader</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">codeUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> displayName</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> fileName.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">pop</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> fileName;</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> fileLink</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> codeUrl </span><span style="color:#F97583">?</span><span style="color:#9ECBFF"> `${</span><span style="color:#E1E4E8">codeUrl</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">endsWith</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">'/'</span><span style="color:#9ECBFF">) </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> codeUrl</span><span style="color:#F97583"> :</span><span style="color:#E1E4E8"> codeUrl</span><span style="color:#F97583"> +</span><span style="color:#9ECBFF"> '/'}${</span><span style="color:#E1E4E8">fileName</span><span style="color:#9ECBFF">}`</span><span style="color:#F97583"> :</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> headerContent</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> fileLink </span></span>
<span class="line"><span style="color:#F97583">    ?</span><span style="color:#9ECBFF"> `&#x3C;a href="${</span><span style="color:#E1E4E8">fileLink</span><span style="color:#9ECBFF">}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline">${</span><span style="color:#E1E4E8">displayName</span><span style="color:#9ECBFF">}&#x3C;/a>`</span></span>
<span class="line"><span style="color:#F97583">    :</span><span style="color:#E1E4E8"> displayName;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;!-- File Header: ${</span><span style="color:#E1E4E8">fileName</span><span style="color:#9ECBFF">} --></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;div class="bg-gray-100 border-b-2 border-gray-300 lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;div class="w-full lg:w-2/5 bg-gray-50 border-r border-gray-300"></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;h2 class="text-xl font-semibold text-gray-800 mb-2"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;svg class="inline-block w-4 h-4 mr-2 text-gray-600" fill="currentColor" viewBox="0 0 20 20"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd">&#x3C;/path></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/svg></span></span>
<span class="line"><span style="color:#9ECBFF">            ${</span><span style="color:#E1E4E8">headerContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/h2></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;div class="hidden lg:block w-3/5 bg-gray-100"></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="h-full min-h-[3rem] flex items-center"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;span class="text-gray-500 text-sm italic">Source file&#x3C;/span></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Regex-based Comment Parser for Linker Scripts</h2>
<p>Extracts C-style comments from linker scripts using regex patterns.
This fallback is used when tree-sitter parsers aren&#39;t available.
Specifically handles multi-line comments (slash-star ... star-slash) in .ld files.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> parseLinkerScriptComments</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">sourceCode</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> lines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> blocks</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Regex to match C-style block comments /* ... */</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> commentRegex</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> /</span><span style="color:#85E89D;font-weight:bold">\/\*</span><span style="color:#79B8FF">[\s\S]</span><span style="color:#F97583">*?</span><span style="color:#85E89D;font-weight:bold">\*\/</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> match;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  while</span><span style="color:#E1E4E8"> ((match </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> commentRegex.</span><span style="color:#B392F0">exec</span><span style="color:#E1E4E8">(sourceCode)) </span><span style="color:#F97583">!==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> commentText</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> match[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> matchStart</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> match.index;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Find line numbers for this comment</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> beforeComment</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">substring</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, matchStart);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> startLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> beforeComment.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">).</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> commentLines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> commentText.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> endLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> startLine </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> commentLines.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> -</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Clean the comment content</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> cleanContent</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> extractCommentContent</span><span style="color:#E1E4E8">(commentText);</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (cleanContent.</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#E1E4E8">      blocks.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">        type: </span><span style="color:#9ECBFF">'comment'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        content: cleanContent,</span></span>
<span class="line"><span style="color:#E1E4E8">        lineStart: startLine,</span></span>
<span class="line"><span style="color:#E1E4E8">        lineEnd: endLine,</span></span>
<span class="line"><span style="color:#E1E4E8">        fileName: fileName</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> blocks.</span><span style="color:#B392F0">sort</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> a.lineStart </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> b.lineStart);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Block Building Helper</h2>
<p>Builds alternating sequence of comment and code blocks from extracted comments.
This helper is used by both tree-sitter parsing and regex fallback parsing.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> buildAlternatingBlocks</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">comments</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[], </span><span style="color:#FFAB70">sourceCode</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">inputFile</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> lines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> ext</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getFileExtension</span><span style="color:#E1E4E8">(inputFile);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> result</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> lastLine </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> commentBlock</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> comments) {</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Add code before this comment</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (lastLine </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> commentBlock.lineStart </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> codeLines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> lines.</span><span style="color:#B392F0">slice</span><span style="color:#E1E4E8">(lastLine, commentBlock.lineStart </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> codeContent</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> codeLines.</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (codeContent) {</span></span>
<span class="line"><span style="color:#E1E4E8">        result.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">          type: </span><span style="color:#9ECBFF">'code'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          content: codeContent,</span></span>
<span class="line"><span style="color:#E1E4E8">          language: ext.</span><span style="color:#B392F0">substring</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">          lineStart: lastLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          lineEnd: commentBlock.lineStart </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          fileName: inputFile</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#E1E4E8">    result.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(commentBlock);</span></span>
<span class="line"><span style="color:#E1E4E8">    lastLine </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> commentBlock.lineEnd;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Add remaining code after last comment</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (lastLine </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> lines.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> codeLines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> lines.</span><span style="color:#B392F0">slice</span><span style="color:#E1E4E8">(lastLine);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> codeContent</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> codeLines.</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (codeContent) {</span></span>
<span class="line"><span style="color:#E1E4E8">      result.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">        type: </span><span style="color:#9ECBFF">'code'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        content: codeContent,</span></span>
<span class="line"><span style="color:#E1E4E8">        language: ext.</span><span style="color:#B392F0">substring</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">        lineStart: lastLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        lineEnd: lines.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        fileName: inputFile</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> result;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Source File Parser</h2>
<p>The core parsing function that extracts comments and code blocks from a source file.</p>
<h3>How it works:</h3>
<ol>
<li><strong>Initialize Parser</strong>: Sets up tree-sitter with the appropriate language grammar</li>
<li><strong>Parse AST</strong>: Generates an Abstract Syntax Tree of the source code</li>
<li><strong>Extract Comments</strong>: Traverses the AST to find all comment nodes</li>
<li><strong>Build Blocks</strong>: Creates alternating comment and code blocks</li>
<li><strong>Sort and Return</strong>: Returns blocks in source order</li>
</ol>
<p>This approach is language-agnostic - we don&#39;t need to know comment syntax,
just identify comment nodes in the AST.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> parseSourceFile</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">inputFile</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">LiterateBlock</span><span style="color:#E1E4E8">[]> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> ext</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getFileExtension</span><span style="color:#E1E4E8">(inputFile);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> LanguageParser</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> LANGUAGE_MAP</span><span style="color:#E1E4E8">[ext </span><span style="color:#F97583">as</span><span style="color:#F97583"> keyof</span><span style="color:#F97583"> typeof</span><span style="color:#79B8FF"> LANGUAGE_MAP</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> sourceCode</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> Deno.</span><span style="color:#B392F0">readTextFile</span><span style="color:#E1E4E8">(inputFile);</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Special handling for .ld files using regex fallback</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (LanguageParser </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> ext </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> '.ld'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> comments</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseLinkerScriptComments</span><span style="color:#E1E4E8">(sourceCode, inputFile);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#B392F0"> buildAlternatingBlocks</span><span style="color:#E1E4E8">(comments, sourceCode, inputFile);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">LanguageParser) {</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Unsupported file extension: ${</span><span style="color:#E1E4E8">ext</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> lines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> parser</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Parser</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    parser </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Parser</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    parser.</span><span style="color:#B392F0">setLanguage</span><span style="color:#E1E4E8">(LanguageParser);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Failed to initialize tree-sitter parser:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> tree</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    tree </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> parser.</span><span style="color:#B392F0">parse</span><span style="color:#E1E4E8">(sourceCode);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Failed to parse source code:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> comments</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  function</span><span style="color:#B392F0"> traverse</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">node</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (node.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> startLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> node.startPosition.row;</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> endLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> node.endPosition.row;</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> node.text;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Extract clean content from comment (language-agnostic)</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> cleanContent</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> extractCommentContent</span><span style="color:#E1E4E8">(content);</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#E1E4E8">        comments.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">          type: </span><span style="color:#9ECBFF">'comment'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          content: cleanContent,</span></span>
<span class="line"><span style="color:#E1E4E8">          lineStart: startLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          lineEnd: endLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          fileName: inputFile</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">      </span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (node.children) {</span></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> child</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> node.children) {</span></span>
<span class="line"><span style="color:#B392F0">          traverse</span><span style="color:#E1E4E8">(child);</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error traversing AST node:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">    traverse</span><span style="color:#E1E4E8">(tree.rootNode);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error traversing AST:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Sort comments by line number</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">comments.</span><span style="color:#B392F0">sort</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> a.lineStart </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> b.lineStart);</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Build alternating blocks using the helper function</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">return</span><span style="color:#B392F0"> buildAlternatingBlocks</span><span style="color:#E1E4E8">(comments, sourceCode, inputFile);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Multi-File Processor</h2>
<p>Processes multiple source files sequentially, building a collection
of processed files for combined documentation. Each file maintains
its own block structure while sharing common configuration like URLs.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> processMultipleFiles</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">files</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[], </span><span style="color:#FFAB70">codeUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">quiet</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">ProcessedFile</span><span style="color:#E1E4E8">[]> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> processedFiles</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ProcessedFile</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> file</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> files) {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">quiet) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Processing: ${</span><span style="color:#E1E4E8">file</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> blocks</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> parseSourceFile</span><span style="color:#E1E4E8">(file);</span></span>
<span class="line"><span style="color:#E1E4E8">    processedFiles.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      fileName: file,</span></span>
<span class="line"><span style="color:#E1E4E8">      blocks,</span></span>
<span class="line"><span style="color:#E1E4E8">      baseUrl: codeUrl</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> processedFiles;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>HTML Generation</h2>
<p>Generates the final HTML documentation from processed files.</p>
<h3>Layout Strategy:</h3>
<ul>
<li><strong>Mobile</strong>: Stacks all blocks vertically for easy scrolling</li>
<li><strong>Desktop</strong>: Side-by-side layout with comments on left, code on right</li>
<li><strong>Responsive</strong>: Uses Tailwind&#39;s breakpoint system for adaptation</li>
</ul>
<h3>Block Pairing:</h3>
<p>When a comment is followed by code, they&#39;re paired horizontally on desktop.
Unpaired comments or code blocks get empty space on the opposite side.</p>
<p>This creates the classic literate programming aesthetic where prose
and code are visually connected.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> generateMultiFileHTML</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">processedFiles</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ProcessedFile</span><span style="color:#E1E4E8">[], </span><span style="color:#FFAB70">customTitle</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">customDescription</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> title</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> customTitle </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> (processedFiles.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> ===</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#F97583">    ?</span><span style="color:#E1E4E8"> (processedFiles[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].fileName.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">pop</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'Literate Code'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    :</span><span style="color:#9ECBFF"> `Literate Code (${</span><span style="color:#E1E4E8">processedFiles</span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">length</span><span style="color:#9ECBFF">} files)`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> description</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> customDescription </span></span>
<span class="line"><span style="color:#F97583">    ?</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> processMarkdown</span><span style="color:#E1E4E8">(customDescription)</span></span>
<span class="line"><span style="color:#F97583">    :</span><span style="color:#9ECBFF"> 'Literate Programming Documentation'</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Mobile: stack all blocks vertically</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> mobileContent </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Desktop: create pairs by grouping consecutive comment+code or individual blocks</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> desktopContent </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">let</span><span style="color:#E1E4E8"> fileIndex </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; fileIndex </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">; fileIndex</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> processedFile</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles[fileIndex];</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#E1E4E8"> { </span><span style="color:#79B8FF">fileName</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">blocks</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">baseUrl</span><span style="color:#E1E4E8"> } </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> processedFile;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Add file header (only if we have multiple files or this is the first file with content)</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (processedFiles.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> ></span><span style="color:#79B8FF"> 1</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> fileIndex </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> fileHeader</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> generateFileHeader</span><span style="color:#E1E4E8">(fileName, baseUrl);</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Mobile version</p>

              </div>
            </div>
          </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Desktop version</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Process blocks for this file</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">let</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> blocks.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">; i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> currentBlock</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> blocks[i];</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> nextBlock</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> blocks[i </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#E1E4E8">      </span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (currentBlock.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> markdownContent</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> processMarkdown</span><span style="color:#E1E4E8">(currentBlock.content);</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Mobile version</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">mobileContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="bg-white border-b border-gray-200 lg:hidden"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="prose"></span></span>
<span class="line"><span style="color:#9ECBFF">                ${</span><span style="color:#E1E4E8">markdownContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Desktop version: check if next block is code to pair them</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (nextBlock </span><span style="color:#F97583">&#x26;&#x26;</span><span style="color:#E1E4E8"> nextBlock.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'code'</span><span style="color:#E1E4E8">) {</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Pair comment with following code block</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> highlightedCode</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> highlightCode</span><span style="color:#E1E4E8">(nextBlock.content, nextBlock.language </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'text'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">          </span></span>
<span class="line"><span style="color:#E1E4E8">          desktopContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="hidden lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-2/5 bg-white border-r border-gray-200"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;div class="prose"></span></span>
<span class="line"><span style="color:#9ECBFF">                    ${</span><span style="color:#E1E4E8">markdownContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-3/5 bg-gray-900"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Add mobile version of the code block</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">mobileContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="bg-gray-900 border-b border-gray-200 lg:hidden"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Skip the next block since we&#39;ve already processed it</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Comment without following code - pair with empty space</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">desktopContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="hidden lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-2/5 bg-white border-r border-gray-200"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;div class="prose"></span></span>
<span class="line"><span style="color:#9ECBFF">                    ${</span><span style="color:#E1E4E8">markdownContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-3/5 bg-gray-900"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;div class="h-full min-h-[4rem]">&#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">      } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Code block (not paired with preceding comment)</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> highlightedCode</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> highlightCode</span><span style="color:#E1E4E8">(currentBlock.content, currentBlock.language </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'text'</span><span style="color:#E1E4E8">);</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Mobile version</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">mobileContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="bg-gray-900 border-b border-gray-200 lg:hidden"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">              ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <p>Desktop version - empty left, code right</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">desktopContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="hidden lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="w-2/5 bg-white border-r border-gray-200"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="h-full min-h-[4rem]">&#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="w-3/5 bg-gray-900"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">    ${</span><span style="color:#E1E4E8">mobileContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;div class="hidden lg:flex lg:flex-col w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">      ${</span><span style="color:#E1E4E8">desktopContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#79B8FF"> HTML_TEMPLATE</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">{{TITLE}}</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, title)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'{{DESCRIPTION}}'</span><span style="color:#E1E4E8">, description)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'{{CONTENT}}'</span><span style="color:#E1E4E8">, content);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
          <div class="bg-white border-b border-gray-200 lg:hidden">
            <div class="p-6">
              <div class="prose">
                <h2>Main Entry Point</h2>
<p>Orchestrates the entire documentation generation process:</p>
<ol>
<li>Parse command-line arguments (with argfile support)</li>
<li>Process all input files to extract blocks</li>
<li>Generate HTML from processed blocks</li>
<li>Output to file or stdout</li>
<li>Report statistics (unless in quiet/stdout mode)</li>
</ol>
<p>The main function handles all error cases and provides
appropriate exit codes for CLI usage.</p>

              </div>
            </div>
          </div>
            <div class="bg-gray-900 border-b border-gray-200 lg:hidden">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> options</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> parseCommandLineArgs</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">options.stdout) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Processing ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">files</span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">length</span><span style="color:#9ECBFF">} file(s): ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">files</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">join</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">', '</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Output: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">outputHtml</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (options.codeUrl) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Code URL: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">codeUrl</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (options.title) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Title: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">title</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (options.description) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Description: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">description</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> processedFiles</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> processMultipleFiles</span><span style="color:#E1E4E8">(options.files, options.codeUrl, options.stdout);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> html</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> generateMultiFileHTML</span><span style="color:#E1E4E8">(processedFiles, options.title, options.description);</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (options.stdout) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(html);</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      await</span><span style="color:#E1E4E8"> Deno.</span><span style="color:#B392F0">writeTextFile</span><span style="color:#E1E4E8">(options.outputHtml, html);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">options.stdout) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> totalBlocks</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#B392F0">reduce</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">sum</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">file</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> sum </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> file.blocks.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> totalComments</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#B392F0">reduce</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">sum</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">file</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> sum </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> file.blocks.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">b</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> b.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#E1E4E8">).</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> totalCodeBlocks</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#B392F0">reduce</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">sum</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">file</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> sum </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> file.blocks.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">b</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> b.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'code'</span><span style="color:#E1E4E8">).</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      </span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Generated HTML: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">outputHtml</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Processed ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">files</span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">length</span><span style="color:#9ECBFF">} files with ${</span><span style="color:#E1E4E8">totalBlocks</span><span style="color:#9ECBFF">} blocks (${</span><span style="color:#E1E4E8">totalComments</span><span style="color:#9ECBFF">} comments, ${</span><span style="color:#E1E4E8">totalCodeBlocks</span><span style="color:#9ECBFF">} code)`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">import</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">meta</span><span style="color:#E1E4E8">.main) {</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
              </div>
            </div>
    <div class="hidden lg:flex lg:flex-col w-full">
      
    <!-- File Header: litsdoc.ts -->
    <div class="bg-gray-100 border-b-2 border-gray-300 lg:flex w-full">
      <div class="w-full lg:w-2/5 bg-gray-50 border-r border-gray-300">
        <div class="p-6">
          <h2 class="text-xl font-semibold text-gray-800 mb-2">
            <svg class="inline-block w-4 h-4 mr-2 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path>
            </svg>
            <a href="https://github.com/user/literate-code-ts/tree/main/litsdoc.ts" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline">litsdoc.ts</a>
          </h2>
        </div>
      </div>
      <div class="hidden lg:block w-3/5 bg-gray-100">
        <div class="p-6">
          <div class="h-full min-h-[3rem] flex items-center">
            <span class="text-gray-500 text-sm italic">Source file</span>
          </div>
        </div>
      </div>
    </div>
          <div class="hidden lg:flex w-full">
            <div class="w-2/5 bg-white border-r border-gray-200">
              <div class="p-6">
                <div class="h-full min-h-[4rem]"></div>
              </div>
            </div>
            <div class="w-3/5 bg-gray-900">
              <div class="p-6">
                <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#6A737D">#!/usr/bin/env -S deno run --allow-read --allow-write --allow-env --allow-ffi</span></span></code></pre>
              </div>
            </div>
          </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h1>litsdoc</h1>
<p>A literate programming tool that transforms source code into beautiful,
readable documentation. This tool extracts comments from source files
and presents them alongside the code in an elegant HTML format.</p>
<h2>Key Features</h2>
<ul>
<li><strong>Language Agnostic</strong>: Uses tree-sitter for robust AST parsing</li>
<li><strong>Multi-file Support</strong>: Process multiple source files at once</li>
<li><strong>Responsive Design</strong>: Mobile-first with Docco-style desktop layout</li>
<li><strong>Markdown Support</strong>: Full GitHub Flavored Markdown in comments</li>
<li><strong>Syntax Highlighting</strong>: VS Code-quality highlighting with Shiki</li>
</ul>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Parser </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:tree-sitter@^0.21.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> C </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:tree-sitter-c@^0.21.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> JavaScript </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:tree-sitter-javascript@^0.21.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { codeToHtml } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:shiki@^1.0.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { marked } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "npm:marked@^12.0.0"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { parseArgs } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "jsr:@std/cli/parse-args"</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Language Parser Mapping</h2>
<p>Maps file extensions to their corresponding tree-sitter parser.
Tree-sitter provides language-agnostic AST parsing, allowing us
to extract comments from any supported language without hardcoding
comment syntax.</p>
<p>Currently supports: C, C headers, JavaScript, TypeScript, and ES modules.
Python and Rust are ready to be added when their parsers are imported.
Linker scripts (.ld) use regex-based comment extraction as fallback.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> LANGUAGE_MAP</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">  '.c'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">C</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  '.h'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">C</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  '.js'</span><span style="color:#E1E4E8">: JavaScript,</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>TypeScript uses same parser for comments</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#9ECBFF">'.mjs'</span><span style="color:#E1E4E8">: JavaScript,</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Linker scripts use regex fallback</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <div class="h-full min-h-[4rem]"></div>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>&#39;.py&#39;: Python,</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <div class="h-full min-h-[4rem]"></div>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>&#39;.rs&#39;: Rust,</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">};</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Syntax Highlighting Configuration</h2>
<p>Maps file extensions to Shiki language identifiers for syntax highlighting.
Shiki uses VS Code&#39;s TextMate grammars, providing the same high-quality
syntax highlighting you see in Visual Studio Code.</p>
<p>For languages without specific Shiki support (like linker scripts),
we fall back to &#39;text&#39; for plain text display without errors.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> SHIKI_LANGUAGE_MAP</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Record</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">  'c'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'c'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'h'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'c'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'js'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'javascript'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'ts'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'typescript'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'mjs'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'javascript'</span><span style="color:#E1E4E8">,</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>No specific Shiki support for linker scripts yet</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#9ECBFF">'py'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'python'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'rs'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'rust'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'go'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'go'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'java'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'java'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'cpp'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'cpp'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  'hpp'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'cpp'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>HTML Template</h2>
<p>The base template for generated documentation. Uses Tailwind CSS via CDN
for styling, with placeholders for dynamic content:</p>
<ul>
<li><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">{{TITLE}}</code>: Document title (shown in browser tab and header)</li>
<li><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">{{DESCRIPTION}}</code>: Markdown-processed description below title</li>
<li><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">{{CONTENT}}</code>: The main documentation content (comments and code)</li>
</ul>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> HTML_TEMPLATE</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> `&#x3C;!DOCTYPE html></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;html lang="en"></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;head></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;meta charset="utf-8"></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;meta name="viewport" content="width=device-width, initial-scale=1.0"></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;title>{{TITLE}}&#x3C;/title></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4">&#x3C;/script></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;style></span></span>
<span class="line"><span style="color:#9ECBFF">    /* Custom prose styling since Tailwind prose isn't available in CDN */</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose {</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #374151;</span></span>
<span class="line"><span style="color:#9ECBFF">      max-width: none;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h1:first-of-type, .prose h2:first-of-type, .prose h3:first-of-type, .prose h4:first-of-type, .prose h5:first-of-type, .prose h6:first-of-type {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 0;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h1 {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 1.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 700;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.75rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 1.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.25;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h2 {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 1.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 600;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 1.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.3;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose h3 {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 1.125rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 600;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-top: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.35;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose p {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.6;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose ul, .prose ol {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding-left: 1.5rem;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose li {</span></span>
<span class="line"><span style="color:#9ECBFF">      margin-bottom: 0.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      line-height: 1.6;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose ul li {</span></span>
<span class="line"><span style="color:#9ECBFF">      list-style-type: disc;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose ol li {</span></span>
<span class="line"><span style="color:#9ECBFF">      list-style-type: decimal;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose blockquote {</span></span>
<span class="line"><span style="color:#9ECBFF">      border-left: 4px solid #e5e7eb;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding-left: 1rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin: 1rem 0;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-style: italic;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #6b7280;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose code {</span></span>
<span class="line"><span style="color:#9ECBFF">      background-color: #f3f4f6;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding: 0.125rem 0.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      border-radius: 0.25rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 0.875rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-family: ui-monospace, SFMono-Regular, "Roboto Mono", "Cascadia Code", "Source Code Pro", Menlo, Consolas, "DejaVu Sans Mono", monospace;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose pre {</span></span>
<span class="line"><span style="color:#9ECBFF">      background-color: #1f2937;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #e5e7eb;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding: 0.75rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      border-radius: 0.375rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      font-size: 0.875rem;</span></span>
<span class="line"><span style="color:#9ECBFF">      overflow-x: auto;</span></span>
<span class="line"><span style="color:#9ECBFF">      margin: 1rem 0;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose pre code {</span></span>
<span class="line"><span style="color:#9ECBFF">      background-color: transparent;</span></span>
<span class="line"><span style="color:#9ECBFF">      padding: 0;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: inherit;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose strong {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-weight: 600;</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #111827;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose em {</span></span>
<span class="line"><span style="color:#9ECBFF">      font-style: italic;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose a {</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #2563eb;</span></span>
<span class="line"><span style="color:#9ECBFF">      text-decoration: underline;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">    .prose a:hover {</span></span>
<span class="line"><span style="color:#9ECBFF">      color: #1d4ed8;</span></span>
<span class="line"><span style="color:#9ECBFF">    }</span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;/style></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;/head></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;body class="bg-gray-50 font-sans"></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;div class="max-w-7xl mx-auto"></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;header class="py-8 px-6 bg-white shadow-sm border-b"></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;h1 class="text-3xl font-bold text-gray-900">{{TITLE}}&#x3C;/h1></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;div class="text-gray-600 mt-2 prose">{{DESCRIPTION}}&#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/header></span></span>
<span class="line"><span style="color:#9ECBFF">    </span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;main class="block lg:flex min-h-screen"></span></span>
<span class="line"><span style="color:#9ECBFF">      {{CONTENT}}</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/main></span></span>
<span class="line"><span style="color:#9ECBFF">  &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;/body></span></span>
<span class="line"><span style="color:#9ECBFF">&#x3C;/html>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Core Data Structures</h2>
<p><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">LiterateBlock</code> represents a single unit of documentation or code.
These blocks are extracted from source files and alternated to create
the literate programming layout where documentation and code are paired.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  type</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#F97583"> |</span><span style="color:#9ECBFF"> 'code'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  content</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  language</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  lineStart</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  lineEnd</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">ProcessedFile</code> contains all blocks from a single source file,
along with metadata for URL linking.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> ProcessedFile</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  blocks</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[];</span></span>
<span class="line"><span style="color:#FFAB70">  baseUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p><code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">CommandLineOptions</code> defines all available CLI arguments.
Supports both direct CLI usage and argfile configuration.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> CommandLineOptions</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  files</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[];</span></span>
<span class="line"><span style="color:#FFAB70">  outputHtml</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  codeUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  title</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  description</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  argfile</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  stdout</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  help</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  version</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Markdown Processing Configuration</h2>
<p>Configures the <code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">marked</code> library for processing markdown in comments.
Enables GitHub Flavored Markdown without automatic line break conversion
to prevent unwanted <br> tags in our clean prose formatting.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">marked.</span><span style="color:#B392F0">setOptions</span><span style="color:#E1E4E8">({</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>GitHub Flavored Markdown</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <div class="h-full min-h-[4rem]"></div>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Don&#39;t convert \n to <br> - let proper paragraph handling work</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <div class="h-full min-h-[4rem]"></div>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Allow HTML (we trust our source code comments)</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Custom renderer for inline code to match our styling</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> renderer</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> marked.</span><span style="color:#B392F0">Renderer</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">renderer.</span><span style="color:#B392F0">code</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">code</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">language</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>For code blocks in markdown, we&#39;ll use inline styling that matches our theme</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> escapedCode</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> code</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x26;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'&#x26;amp;'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x3C;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'&#x26;lt;'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">></span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'&#x26;gt;'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> `&#x3C;pre class="bg-gray-800 text-gray-200 p-2 rounded text-sm overflow-x-auto">&#x3C;code>${</span><span style="color:#E1E4E8">escapedCode</span><span style="color:#9ECBFF">}&#x3C;/code>&#x3C;/pre>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">renderer.</span><span style="color:#B392F0">codespan</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">text</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> `&#x3C;code class="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono">${</span><span style="color:#E1E4E8">text</span><span style="color:#9ECBFF">}&#x3C;/code>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">marked.</span><span style="color:#B392F0">setOptions</span><span style="color:#E1E4E8">({ renderer });</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Markdown Processing</h2>
<p>Converts markdown content from comments into HTML.
Handles all standard markdown features including headers, lists,
emphasis, links, and code blocks. Falls back to simple paragraph
wrapping if markdown processing fails.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> processMarkdown</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">content</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Use marked to process the markdown content</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> html</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> marked.</span><span style="color:#B392F0">parse</span><span style="color:#E1E4E8">(content);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> html;</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">warn</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Failed to process markdown:'</span><span style="color:#E1E4E8">, error.message);</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Fallback to simple paragraph wrapping</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">return</span><span style="color:#9ECBFF"> `&#x3C;p class="mb-4">${</span><span style="color:#E1E4E8">content</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x3C;br>'</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}&#x3C;/p>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Syntax Highlighting</h2>
<p>Applies VS Code-quality syntax highlighting using Shiki with fallback strategies.
Uses GitHub Dark theme with custom transformers for consistent styling.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> SHIKI_TRANSFORMERS</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [{</span></span>
<span class="line"><span style="color:#B392F0">  pre</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">node</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    node.properties.class </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'text-sm leading-relaxed overflow-x-auto'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    node.properties.style </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'background-color: transparent; padding: 0; margin: 0;'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#B392F0">  code</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">node</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    node.properties.style </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'background-color: transparent;'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> highlightCode</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">code</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">language</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> strategies</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    () </span><span style="color:#F97583">=></span><span style="color:#B392F0"> codeToHtml</span><span style="color:#E1E4E8">(code, {</span></span>
<span class="line"><span style="color:#E1E4E8">      lang: </span><span style="color:#79B8FF">SHIKI_LANGUAGE_MAP</span><span style="color:#E1E4E8">[language] </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'text'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      theme: </span><span style="color:#9ECBFF">'github-dark'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      transformers: </span><span style="color:#79B8FF">SHIKI_TRANSFORMERS</span></span>
<span class="line"><span style="color:#E1E4E8">    }),</span></span>
<span class="line"><span style="color:#E1E4E8">    () </span><span style="color:#F97583">=></span><span style="color:#B392F0"> codeToHtml</span><span style="color:#E1E4E8">(code, {</span></span>
<span class="line"><span style="color:#E1E4E8">      lang: </span><span style="color:#9ECBFF">'text'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      theme: </span><span style="color:#9ECBFF">'github-dark'</span><span style="color:#E1E4E8">, </span></span>
<span class="line"><span style="color:#E1E4E8">      transformers: </span><span style="color:#79B8FF">SHIKI_TRANSFORMERS</span></span>
<span class="line"><span style="color:#E1E4E8">    }),</span></span>
<span class="line"><span style="color:#E1E4E8">    () </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`&#x3C;pre class="text-sm leading-relaxed overflow-x-auto">&#x3C;code>${</span></span>
<span class="line"><span style="color:#E1E4E8">      code</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x26;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x26;amp;'</span><span style="color:#9ECBFF">).</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">&#x3C;</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x26;lt;'</span><span style="color:#9ECBFF">).</span><span style="color:#B392F0">replace</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">></span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#9ECBFF">, </span><span style="color:#9ECBFF">'&#x26;gt;'</span><span style="color:#9ECBFF">)</span></span>
<span class="line"><span style="color:#9ECBFF">    }&#x3C;/code>&#x3C;/pre>`</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">  ];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">i</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">strategy</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">of</span><span style="color:#E1E4E8"> strategies.</span><span style="color:#B392F0">entries</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> strategy</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (i </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> strategies.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> -</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">warn</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Highlight strategy ${</span><span style="color:#E1E4E8">i</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> 1</span><span style="color:#9ECBFF">} failed, trying fallback:`</span><span style="color:#E1E4E8">, (error </span><span style="color:#F97583">as</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">).message);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'All highlighting strategies failed'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Argument File Parser</h2>
<p>Reads and parses arguments from a configuration file using regex.
Supports quoted strings with spaces for complex configurations.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> parseArgsFromFile</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">argfilePath</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">[]> {</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> Deno.</span><span style="color:#B392F0">readTextFile</span><span style="color:#E1E4E8">(argfilePath);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> content.</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">match</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">(?:</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s"']</span><span style="color:#F97583">+|</span><span style="color:#DBEDFF">"</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">"]</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">"</span><span style="color:#F97583">|</span><span style="color:#DBEDFF">'</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">']</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">')</span><span style="color:#F97583">+</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      ?.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">s</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">["']</span><span style="color:#F97583">|</span><span style="color:#79B8FF">["']</span><span style="color:#F97583">$</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">)) </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Error reading argfile '${</span><span style="color:#E1E4E8">argfilePath</span><span style="color:#9ECBFF">}': ${</span><span style="color:#E1E4E8">error</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">message</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Unified Command Line Argument Parser</h2>
<p>Handles both direct CLI arguments and argfile-based configuration.
When an argfile is specified, reads arguments from the file and
parses them as if they were provided on the command line.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> parseCommandLineArgs</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">CommandLineOptions</span><span style="color:#E1E4E8">> {</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>First check if --argfile is specified</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> initialArgs</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseArgs</span><span style="color:#E1E4E8">(Deno.args, {</span></span>
<span class="line"><span style="color:#E1E4E8">    string: [</span><span style="color:#9ECBFF">"argfile"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    alias: { </span><span style="color:#9ECBFF">"argfile"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"f"</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> argsToProcess </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Deno.args;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>If argfile is specified, read arguments from file</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (initialArgs.argfile) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Reading arguments from: ${</span><span style="color:#E1E4E8">initialArgs</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">argfile</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    argsToProcess </span><span style="color:#F97583">=</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> parseArgsFromFile</span><span style="color:#E1E4E8">(initialArgs.argfile </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> args</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseArgs</span><span style="color:#E1E4E8">(argsToProcess, {</span></span>
<span class="line"><span style="color:#E1E4E8">    boolean: [</span><span style="color:#9ECBFF">"help"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"version"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"stdout"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    string: [</span><span style="color:#9ECBFF">"output-html"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"code-url"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"title"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"description"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"argfile"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    alias: {</span></span>
<span class="line"><span style="color:#9ECBFF">      "help"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"h"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "version"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"v"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "output-html"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"o"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "code-url"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"u"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "title"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"t"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "description"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"d"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "argfile"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"f"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "stdout"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"s"</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#E1E4E8">    default: {</span></span>
<span class="line"><span style="color:#9ECBFF">      "help"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "version"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">      "stdout"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (args.help) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`</span></span>
<span class="line"><span style="color:#9ECBFF">Usage: litsdoc.ts [file1] [file2] [...] [options]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Options:</span></span>
<span class="line"><span style="color:#9ECBFF">  -h, --help                    Show this help message</span></span>
<span class="line"><span style="color:#9ECBFF">  -v, --version                 Show version information</span></span>
<span class="line"><span style="color:#9ECBFF">  -o, --output-html &#x3C;file>      Output HTML file (default: first-input-file.html)</span></span>
<span class="line"><span style="color:#9ECBFF">  -s, --stdout                  Output HTML to stdout instead of file</span></span>
<span class="line"><span style="color:#9ECBFF">  -u, --code-url &#x3C;url>          Base URL for linking to source files</span></span>
<span class="line"><span style="color:#9ECBFF">  -t, --title &#x3C;title>           Custom title (markdown supported)</span></span>
<span class="line"><span style="color:#9ECBFF">  -d, --description &#x3C;desc>      Custom description (markdown supported)</span></span>
<span class="line"><span style="color:#9ECBFF">  -f, --argfile &#x3C;file>          Read arguments from file (overrides CLI args)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Examples:</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts hello.c</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts a.c b.js --output-html docs.html</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts hello.c --stdout > docs.html</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts *.c --code-url https://github.com/user/repo/tree/main/</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts --title "My Project" --description "**Documentation** for my project"</span></span>
<span class="line"><span style="color:#9ECBFF">  litsdoc.ts --argfile myproject.argfile</span></span>
<span class="line"><span style="color:#9ECBFF">    `</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (args.version) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"litsdoc v1.2.0"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (args._.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> &#x3C;</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error: At least one input file is required'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Usage: litsdoc.ts [file1] [file2] [...] [options]'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Use --help for more information'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> files</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args._.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">f</span><span style="color:#F97583"> =></span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">(f));</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> outputHtml</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"output-html"</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> files[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#85E89D;font-weight:bold">\.</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">.]</span><span style="color:#F97583">+$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">'.html'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> codeUrl</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"code-url"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> title</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"title"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> description</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"description"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> stdout</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"stdout"</span><span style="color:#E1E4E8">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    files,</span></span>
<span class="line"><span style="color:#E1E4E8">    outputHtml,</span></span>
<span class="line"><span style="color:#E1E4E8">    codeUrl,</span></span>
<span class="line"><span style="color:#E1E4E8">    title,</span></span>
<span class="line"><span style="color:#E1E4E8">    description,</span></span>
<span class="line"><span style="color:#E1E4E8">    stdout,</span></span>
<span class="line"><span style="color:#E1E4E8">    help: args.help,</span></span>
<span class="line"><span style="color:#E1E4E8">    version: args.version</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Comment Content Extraction Patterns</h2>
<p>Pattern matching for different comment styles to enable language-agnostic parsing.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> COMMENT_PATTERNS</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/*'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#85E89D;font-weight:bold">\/\*\*</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#85E89D;font-weight:bold">\*\/</span><span style="color:#F97583">$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#85E89D;font-weight:bold">\*</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'//'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#85E89D;font-weight:bold">\/\/</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'#'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">#</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'&#x3C;!--'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#DBEDFF">&#x3C;!--</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">--></span><span style="color:#F97583">$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#B392F0">    test</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s.</span><span style="color:#B392F0">startsWith</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'--'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#B392F0">    clean</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">s</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> s</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">line</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> line.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">^</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">--</span><span style="color:#79B8FF">\s</span><span style="color:#F97583">?</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">      .</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getFileExtension</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">filename</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> match</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> filename.</span><span style="color:#B392F0">match</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#85E89D;font-weight:bold">\.</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">.]</span><span style="color:#F97583">+$</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> match </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> match[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Comment Content Extraction</h2>
<p>Extracts the actual content from raw comment text.
This is the key to language-agnostic comment parsing - we don&#39;t
need to know the comment syntax, just clean it up after tree-sitter
identifies it as a comment.</p>
<p>Handles:</p>
<ul>
<li>C-style block comments</li>
<li>C++/JS/TS line comments</li>
<li>Python/Shell comments</li>
<li>HTML/XML comments</li>
<li>SQL comments</li>
</ul>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> extractCommentContent</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">rawComment</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> rawComment.</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> pattern</span><span style="color:#F97583"> of</span><span style="color:#79B8FF"> COMMENT_PATTERNS</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pattern.</span><span style="color:#B392F0">test</span><span style="color:#E1E4E8">(content)) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> pattern.</span><span style="color:#B392F0">clean</span><span style="color:#E1E4E8">(content);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> content;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>File Header Generation</h2>
<p>Creates a visual header for each source file in multi-file documentation.
Includes an optional link to the source file on GitHub or other repositories.
The header uses a file icon and distinctive styling to mark file boundaries.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> generateFileHeader</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">codeUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> displayName</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> fileName.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">pop</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> fileName;</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> fileLink</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> codeUrl </span><span style="color:#F97583">?</span><span style="color:#9ECBFF"> `${</span><span style="color:#E1E4E8">codeUrl</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">endsWith</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">'/'</span><span style="color:#9ECBFF">) </span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> codeUrl</span><span style="color:#F97583"> :</span><span style="color:#E1E4E8"> codeUrl</span><span style="color:#F97583"> +</span><span style="color:#9ECBFF"> '/'}${</span><span style="color:#E1E4E8">fileName</span><span style="color:#9ECBFF">}`</span><span style="color:#F97583"> :</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> headerContent</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> fileLink </span></span>
<span class="line"><span style="color:#F97583">    ?</span><span style="color:#9ECBFF"> `&#x3C;a href="${</span><span style="color:#E1E4E8">fileLink</span><span style="color:#9ECBFF">}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline">${</span><span style="color:#E1E4E8">displayName</span><span style="color:#9ECBFF">}&#x3C;/a>`</span></span>
<span class="line"><span style="color:#F97583">    :</span><span style="color:#E1E4E8"> displayName;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;!-- File Header: ${</span><span style="color:#E1E4E8">fileName</span><span style="color:#9ECBFF">} --></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;div class="bg-gray-100 border-b-2 border-gray-300 lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;div class="w-full lg:w-2/5 bg-gray-50 border-r border-gray-300"></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;h2 class="text-xl font-semibold text-gray-800 mb-2"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;svg class="inline-block w-4 h-4 mr-2 text-gray-600" fill="currentColor" viewBox="0 0 20 20"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd">&#x3C;/path></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/svg></span></span>
<span class="line"><span style="color:#9ECBFF">            ${</span><span style="color:#E1E4E8">headerContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/h2></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;div class="hidden lg:block w-3/5 bg-gray-100"></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="h-full min-h-[3rem] flex items-center"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;span class="text-gray-500 text-sm italic">Source file&#x3C;/span></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">        &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">      &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Regex-based Comment Parser for Linker Scripts</h2>
<p>Extracts C-style comments from linker scripts using regex patterns.
This fallback is used when tree-sitter parsers aren&#39;t available.
Specifically handles multi-line comments (slash-star ... star-slash) in .ld files.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> parseLinkerScriptComments</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">sourceCode</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">fileName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> lines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> blocks</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Regex to match C-style block comments /* ... */</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> commentRegex</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> /</span><span style="color:#85E89D;font-weight:bold">\/\*</span><span style="color:#79B8FF">[\s\S]</span><span style="color:#F97583">*?</span><span style="color:#85E89D;font-weight:bold">\*\/</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> match;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  while</span><span style="color:#E1E4E8"> ((match </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> commentRegex.</span><span style="color:#B392F0">exec</span><span style="color:#E1E4E8">(sourceCode)) </span><span style="color:#F97583">!==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> commentText</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> match[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> matchStart</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> match.index;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Find line numbers for this comment</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> beforeComment</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">substring</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, matchStart);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> startLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> beforeComment.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">).</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> commentLines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> commentText.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> endLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> startLine </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> commentLines.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> -</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Clean the comment content</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> cleanContent</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> extractCommentContent</span><span style="color:#E1E4E8">(commentText);</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (cleanContent.</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#E1E4E8">      blocks.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">        type: </span><span style="color:#9ECBFF">'comment'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        content: cleanContent,</span></span>
<span class="line"><span style="color:#E1E4E8">        lineStart: startLine,</span></span>
<span class="line"><span style="color:#E1E4E8">        lineEnd: endLine,</span></span>
<span class="line"><span style="color:#E1E4E8">        fileName: fileName</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> blocks.</span><span style="color:#B392F0">sort</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> a.lineStart </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> b.lineStart);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Block Building Helper</h2>
<p>Builds alternating sequence of comment and code blocks from extracted comments.
This helper is used by both tree-sitter parsing and regex fallback parsing.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> buildAlternatingBlocks</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">comments</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[], </span><span style="color:#FFAB70">sourceCode</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">inputFile</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> lines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> ext</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getFileExtension</span><span style="color:#E1E4E8">(inputFile);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> result</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> lastLine </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> commentBlock</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> comments) {</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Add code before this comment</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (lastLine </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> commentBlock.lineStart </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> codeLines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> lines.</span><span style="color:#B392F0">slice</span><span style="color:#E1E4E8">(lastLine, commentBlock.lineStart </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> codeContent</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> codeLines.</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (codeContent) {</span></span>
<span class="line"><span style="color:#E1E4E8">        result.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">          type: </span><span style="color:#9ECBFF">'code'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          content: codeContent,</span></span>
<span class="line"><span style="color:#E1E4E8">          language: ext.</span><span style="color:#B392F0">substring</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">          lineStart: lastLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          lineEnd: commentBlock.lineStart </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          fileName: inputFile</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#E1E4E8">    result.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(commentBlock);</span></span>
<span class="line"><span style="color:#E1E4E8">    lastLine </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> commentBlock.lineEnd;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Add remaining code after last comment</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (lastLine </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> lines.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> codeLines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> lines.</span><span style="color:#B392F0">slice</span><span style="color:#E1E4E8">(lastLine);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> codeContent</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> codeLines.</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">trim</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (codeContent) {</span></span>
<span class="line"><span style="color:#E1E4E8">      result.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">        type: </span><span style="color:#9ECBFF">'code'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        content: codeContent,</span></span>
<span class="line"><span style="color:#E1E4E8">        language: ext.</span><span style="color:#B392F0">substring</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">        lineStart: lastLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        lineEnd: lines.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">        fileName: inputFile</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> result;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Source File Parser</h2>
<p>The core parsing function that extracts comments and code blocks from a source file.</p>
<h3>How it works:</h3>
<ol>
<li><strong>Initialize Parser</strong>: Sets up tree-sitter with the appropriate language grammar</li>
<li><strong>Parse AST</strong>: Generates an Abstract Syntax Tree of the source code</li>
<li><strong>Extract Comments</strong>: Traverses the AST to find all comment nodes</li>
<li><strong>Build Blocks</strong>: Creates alternating comment and code blocks</li>
<li><strong>Sort and Return</strong>: Returns blocks in source order</li>
</ol>
<p>This approach is language-agnostic - we don&#39;t need to know comment syntax,
just identify comment nodes in the AST.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> parseSourceFile</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">inputFile</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">LiterateBlock</span><span style="color:#E1E4E8">[]> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> ext</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getFileExtension</span><span style="color:#E1E4E8">(inputFile);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> LanguageParser</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> LANGUAGE_MAP</span><span style="color:#E1E4E8">[ext </span><span style="color:#F97583">as</span><span style="color:#F97583"> keyof</span><span style="color:#F97583"> typeof</span><span style="color:#79B8FF"> LANGUAGE_MAP</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> sourceCode</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> Deno.</span><span style="color:#B392F0">readTextFile</span><span style="color:#E1E4E8">(inputFile);</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Special handling for .ld files using regex fallback</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (LanguageParser </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> ext </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> '.ld'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> comments</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> parseLinkerScriptComments</span><span style="color:#E1E4E8">(sourceCode, inputFile);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#B392F0"> buildAlternatingBlocks</span><span style="color:#E1E4E8">(comments, sourceCode, inputFile);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">LanguageParser) {</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Unsupported file extension: ${</span><span style="color:#E1E4E8">ext</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> lines</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> sourceCode.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> parser</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Parser</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    parser </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Parser</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    parser.</span><span style="color:#B392F0">setLanguage</span><span style="color:#E1E4E8">(LanguageParser);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Failed to initialize tree-sitter parser:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  let</span><span style="color:#E1E4E8"> tree</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    tree </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> parser.</span><span style="color:#B392F0">parse</span><span style="color:#E1E4E8">(sourceCode);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Failed to parse source code:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> comments</span><span style="color:#F97583">:</span><span style="color:#B392F0"> LiterateBlock</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  function</span><span style="color:#B392F0"> traverse</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">node</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (node.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> startLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> node.startPosition.row;</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> endLine</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> node.endPosition.row;</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> node.text;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Extract clean content from comment (language-agnostic)</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> cleanContent</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> extractCommentContent</span><span style="color:#E1E4E8">(content);</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#E1E4E8">        comments.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">          type: </span><span style="color:#9ECBFF">'comment'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          content: cleanContent,</span></span>
<span class="line"><span style="color:#E1E4E8">          lineStart: startLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          lineEnd: endLine </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          fileName: inputFile</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">      </span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (node.children) {</span></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> child</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> node.children) {</span></span>
<span class="line"><span style="color:#B392F0">          traverse</span><span style="color:#E1E4E8">(child);</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error traversing AST node:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">    traverse</span><span style="color:#E1E4E8">(tree.rootNode);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error traversing AST:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#F97583">    throw</span><span style="color:#E1E4E8"> error;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Sort comments by line number</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">comments.</span><span style="color:#B392F0">sort</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> a.lineStart </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> b.lineStart);</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Build alternating blocks using the helper function</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">return</span><span style="color:#B392F0"> buildAlternatingBlocks</span><span style="color:#E1E4E8">(comments, sourceCode, inputFile);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Multi-File Processor</h2>
<p>Processes multiple source files sequentially, building a collection
of processed files for combined documentation. Each file maintains
its own block structure while sharing common configuration like URLs.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> processMultipleFiles</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">files</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">[], </span><span style="color:#FFAB70">codeUrl</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">quiet</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">ProcessedFile</span><span style="color:#E1E4E8">[]> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> processedFiles</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ProcessedFile</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> file</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> files) {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">quiet) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Processing: ${</span><span style="color:#E1E4E8">file</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> blocks</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> parseSourceFile</span><span style="color:#E1E4E8">(file);</span></span>
<span class="line"><span style="color:#E1E4E8">    processedFiles.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">      fileName: file,</span></span>
<span class="line"><span style="color:#E1E4E8">      blocks,</span></span>
<span class="line"><span style="color:#E1E4E8">      baseUrl: codeUrl</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> processedFiles;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>HTML Generation</h2>
<p>Generates the final HTML documentation from processed files.</p>
<h3>Layout Strategy:</h3>
<ul>
<li><strong>Mobile</strong>: Stacks all blocks vertically for easy scrolling</li>
<li><strong>Desktop</strong>: Side-by-side layout with comments on left, code on right</li>
<li><strong>Responsive</strong>: Uses Tailwind&#39;s breakpoint system for adaptation</li>
</ul>
<h3>Block Pairing:</h3>
<p>When a comment is followed by code, they&#39;re paired horizontally on desktop.
Unpaired comments or code blocks get empty space on the opposite side.</p>
<p>This creates the classic literate programming aesthetic where prose
and code are visually connected.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> generateMultiFileHTML</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">processedFiles</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ProcessedFile</span><span style="color:#E1E4E8">[], </span><span style="color:#FFAB70">customTitle</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">customDescription</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> title</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> customTitle </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> (processedFiles.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> ===</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#F97583">    ?</span><span style="color:#E1E4E8"> (processedFiles[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].fileName.</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/'</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">pop</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'Literate Code'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    :</span><span style="color:#9ECBFF"> `Literate Code (${</span><span style="color:#E1E4E8">processedFiles</span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">length</span><span style="color:#9ECBFF">} files)`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> description</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> customDescription </span></span>
<span class="line"><span style="color:#F97583">    ?</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> processMarkdown</span><span style="color:#E1E4E8">(customDescription)</span></span>
<span class="line"><span style="color:#F97583">    :</span><span style="color:#9ECBFF"> 'Literate Programming Documentation'</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Mobile: stack all blocks vertically</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> mobileContent </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Desktop: create pairs by grouping consecutive comment+code or individual blocks</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> desktopContent </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ''</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">let</span><span style="color:#E1E4E8"> fileIndex </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; fileIndex </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">; fileIndex</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> processedFile</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles[fileIndex];</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#E1E4E8"> { </span><span style="color:#79B8FF">fileName</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">blocks</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">baseUrl</span><span style="color:#E1E4E8"> } </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> processedFile;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Add file header (only if we have multiple files or this is the first file with content)</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (processedFiles.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> ></span><span style="color:#79B8FF"> 1</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> fileIndex </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> fileHeader</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> generateFileHeader</span><span style="color:#E1E4E8">(fileName, baseUrl);</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Mobile version</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <div class="h-full min-h-[4rem]"></div>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Desktop version</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Process blocks for this file</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">let</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> blocks.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">; i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> currentBlock</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> blocks[i];</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> nextBlock</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> blocks[i </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#E1E4E8">      </span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (currentBlock.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> markdownContent</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> processMarkdown</span><span style="color:#E1E4E8">(currentBlock.content);</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Mobile version</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">mobileContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="bg-white border-b border-gray-200 lg:hidden"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="prose"></span></span>
<span class="line"><span style="color:#9ECBFF">                ${</span><span style="color:#E1E4E8">markdownContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Desktop version: check if next block is code to pair them</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (nextBlock </span><span style="color:#F97583">&#x26;&#x26;</span><span style="color:#E1E4E8"> nextBlock.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'code'</span><span style="color:#E1E4E8">) {</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Pair comment with following code block</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> highlightedCode</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> highlightCode</span><span style="color:#E1E4E8">(nextBlock.content, nextBlock.language </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'text'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">          </span></span>
<span class="line"><span style="color:#E1E4E8">          desktopContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="hidden lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-2/5 bg-white border-r border-gray-200"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;div class="prose"></span></span>
<span class="line"><span style="color:#9ECBFF">                    ${</span><span style="color:#E1E4E8">markdownContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-3/5 bg-gray-900"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Add mobile version of the code block</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">mobileContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="bg-gray-900 border-b border-gray-200 lg:hidden"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Skip the next block since we&#39;ve already processed it</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Comment without following code - pair with empty space</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">desktopContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="hidden lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-2/5 bg-white border-r border-gray-200"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;div class="prose"></span></span>
<span class="line"><span style="color:#9ECBFF">                    ${</span><span style="color:#E1E4E8">markdownContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="w-3/5 bg-gray-900"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                  &#x3C;div class="h-full min-h-[4rem]">&#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">      } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Code block (not paired with preceding comment)</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> highlightedCode</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> highlightCode</span><span style="color:#E1E4E8">(currentBlock.content, currentBlock.language </span><span style="color:#F97583">||</span><span style="color:#9ECBFF"> 'text'</span><span style="color:#E1E4E8">);</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Mobile version</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">mobileContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="bg-gray-900 border-b border-gray-200 lg:hidden"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">              ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <p>Desktop version - empty left, code right</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#E1E4E8">desktopContent </span><span style="color:#F97583">+=</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;div class="hidden lg:flex w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="w-2/5 bg-white border-r border-gray-200"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                &#x3C;div class="h-full min-h-[4rem]">&#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;div class="w-3/5 bg-gray-900"></span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;div class="p-6"></span></span>
<span class="line"><span style="color:#9ECBFF">                ${</span><span style="color:#E1E4E8">highlightedCode</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">              &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">            &#x3C;/div></span></span>
<span class="line"><span style="color:#9ECBFF">          &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> content</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> `</span></span>
<span class="line"><span style="color:#9ECBFF">    ${</span><span style="color:#E1E4E8">mobileContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;div class="hidden lg:flex lg:flex-col w-full"></span></span>
<span class="line"><span style="color:#9ECBFF">      ${</span><span style="color:#E1E4E8">desktopContent</span><span style="color:#9ECBFF">}</span></span>
<span class="line"><span style="color:#9ECBFF">    &#x3C;/div>`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#79B8FF"> HTML_TEMPLATE</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">/</span><span style="color:#DBEDFF">{{TITLE}}</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">, title)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'{{DESCRIPTION}}'</span><span style="color:#E1E4E8">, description)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'{{CONTENT}}'</span><span style="color:#E1E4E8">, content);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
            <div class="hidden lg:flex w-full">
              <div class="w-2/5 bg-white border-r border-gray-200">
                <div class="p-6">
                  <div class="prose">
                    <h2>Main Entry Point</h2>
<p>Orchestrates the entire documentation generation process:</p>
<ol>
<li>Parse command-line arguments (with argfile support)</li>
<li>Process all input files to extract blocks</li>
<li>Generate HTML from processed blocks</li>
<li>Output to file or stdout</li>
<li>Report statistics (unless in quiet/stdout mode)</li>
</ol>
<p>The main function handles all error cases and provides
appropriate exit codes for CLI usage.</p>

                  </div>
                </div>
              </div>
              <div class="w-3/5 bg-gray-900">
                <div class="p-6">
                  <pre class="text-sm leading-relaxed overflow-x-auto" style="background-color: transparent; padding: 0; margin: 0;" tabindex="0"><code style="background-color: transparent;"><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> options</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> parseCommandLineArgs</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">options.stdout) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Processing ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">files</span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">length</span><span style="color:#9ECBFF">} file(s): ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">files</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">join</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">', '</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Output: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">outputHtml</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (options.codeUrl) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Code URL: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">codeUrl</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (options.title) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Title: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">title</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (options.description) {</span></span>
<span class="line"><span style="color:#E1E4E8">        console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Description: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">description</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> processedFiles</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> processMultipleFiles</span><span style="color:#E1E4E8">(options.files, options.codeUrl, options.stdout);</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> html</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> generateMultiFileHTML</span><span style="color:#E1E4E8">(processedFiles, options.title, options.description);</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (options.stdout) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(html);</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      await</span><span style="color:#E1E4E8"> Deno.</span><span style="color:#B392F0">writeTextFile</span><span style="color:#E1E4E8">(options.outputHtml, html);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">options.stdout) {</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> totalBlocks</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#B392F0">reduce</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">sum</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">file</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> sum </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> file.blocks.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> totalComments</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#B392F0">reduce</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">sum</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">file</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> sum </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> file.blocks.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">b</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> b.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'comment'</span><span style="color:#E1E4E8">).</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">      const</span><span style="color:#79B8FF"> totalCodeBlocks</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> processedFiles.</span><span style="color:#B392F0">reduce</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">sum</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">file</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> sum </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> file.blocks.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">b</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> b.type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'code'</span><span style="color:#E1E4E8">).</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      </span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Generated HTML: ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">outputHtml</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Processed ${</span><span style="color:#E1E4E8">options</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">files</span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">length</span><span style="color:#9ECBFF">} files with ${</span><span style="color:#E1E4E8">totalBlocks</span><span style="color:#9ECBFF">} blocks (${</span><span style="color:#E1E4E8">totalComments</span><span style="color:#9ECBFF">} comments, ${</span><span style="color:#E1E4E8">totalCodeBlocks</span><span style="color:#9ECBFF">} code)`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Error:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#E1E4E8">    Deno.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">import</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">meta</span><span style="color:#E1E4E8">.main) {</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
                </div>
              </div>
            </div>
    </div>
    </main>
  </div>
</body>
</html>